---
layout: post
title: Vscod Python開発環境セッティング（2）-仮想環境
image: 7.jpg
date: 2020-11-16 23:41:00 +0200
tags: [Python, coding]
categories: python
---

### Python仮想環境が必要な理由と利用方法（venv,virtualenv)

Pythonでプロジェクトをする時は各プロジェクトごとに仮想環境を作って行う事をオススメします。

実際に自分も基本文法など基礎を勉強する時は必要を知らなかったですが、プロジェクトをやってみてから、その必要性をすごく感じました。

#### なぜ必要？？
{% highlight ruby %}
- Pythonを仮想環境で利用すると自分が欲しいパッケージだけプロジェクトのフォルダーに設置する事ができ、他のプロジェクトとのパッケージが衝突する可能性を減らしてくれます！つまり、理由不明のエラーが出にくくなるという事です！👍そして、他の人とプロジェクトを共有する時又は、他のパソコンで作業をする時、そのプロジェクトの為に必要なパッケージだけ設置して使う事ができます。
- アップデートの互換の問題です。時間が経つ共にパッケージをアップデートされますが、色んなアップデートをする内にお互い依存しているパッケージ間でパージョン互換ができない場合があります。パッケージがアップデートされ、互換性問題が発生する度にコードを修正するのは地獄ですよね！なので、仮想環境を使って確実に動くバージョンのパッケージ集めて管理する事ができるので、エラー発生を抑えてくれます。
{% endhighlight %}

それ以外にも色んな理由はありますが、これだけでも仮想環境を使う理由は十分ですね！

それでは設置方法を紹介します。

#### 仮想環境の設置方法

大きく二つあります！

> １　Python内蔵モジュール　venvを利用
>
> ２　virtualenvパッケージを利用

前まではvirtualenvの方が使いやすかったそうですが、Python３.０以上からはvenvでも十分らしいので、こちらにはvenvを利用する方法を掲載します。

localのrootで次のコマンドを入れます。

`＄python -m venv project_env`

そしたら、dirで　`-ls -a `を入れると`project_env`というフォルダーが作成されています。こちらが仮想環境です！そして、仮想環境を活性化する方法はこのコマンドを！

`$ source project_env/bin/activate`

#### 仮想環境でパッケージ管理

まずローカルで仮想環境を活性化して必要なパッケージを設置できたら、どの環境でも同じパッケージがグループで設置されるよう`requirements.txt`を作ってあげた方がいいです。

`$ pip freeze > requirements.txt`

を入力すると、現在環境に設置された全てのパッケージ名前とバージョンが書いたrequirements.txtというファイルが自動で作られます。

そして遠隔サーバでこのファイルを利用してパッケージを一括で設置する為には

`$ pip install -r requirements.txt`

ここで -rはrequirementを設置する時は付けてって公式サイトに書いてありますが、理由はよくわかりませんでした。

今日はこれで以上です。

これ以外にも　JSON設定でVSCode中で楽にterminalを使うなど、少し設定がありますが、それは今度アップデートします！

---

参考サイト：https://www.dabapps.com/blog/introduction-to-pip-and-virtualenv-python/







